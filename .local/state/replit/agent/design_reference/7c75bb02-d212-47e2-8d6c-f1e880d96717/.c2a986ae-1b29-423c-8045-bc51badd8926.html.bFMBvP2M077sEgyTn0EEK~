<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habit & Time Tracker - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        darkMode: 'class',
        theme: {
            extend: {
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)",
                    sm: "calc(var(--radius) - 4px)",
                },
                colors: {
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    border: "var(--border)",
                    input: "var(--input)",
                    ring: "var(--ring)",
                }
            },
            fontFamily: {
                sans: ["Inter", "system-ui", "sans-serif"],
            }
        }
    };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --radius: 0.5rem;
            --background: hsl(210 40% 96%);
            --foreground: hsl(210 40% 8%);
            --card: hsl(0 0% 100%);
            --card-foreground: hsl(210 40% 8%);
            --primary: hsl(210 83% 53%);
            --primary-foreground: hsl(0 0% 100%);
            --secondary: hsl(174 72% 32%);
            --secondary-foreground: hsl(0 0% 100%);
            --accent: hsl(36 100% 50%);
            --accent-foreground: hsl(0 0% 100%);
            --muted: hsl(210 40% 94%);
            --muted-foreground: hsl(210 40% 35%);
            --border: hsl(210 40% 90%);
            --input: hsl(210 40% 90%);
            --ring: hsl(210 83% 53%);
        }
        
        .dark {
            --background: hsl(210 40% 7%);
            --foreground: hsl(210 40% 94%);
            --card: hsl(210 40% 11%);
            --card-foreground: hsl(210 40% 94%);
            --primary: hsl(210 83% 63%);
            --primary-foreground: hsl(210 40% 7%);
            --secondary: hsl(174 72% 42%);
            --secondary-foreground: hsl(210 40% 7%);
            --accent: hsl(36 100% 60%);
            --accent-foreground: hsl(210 40% 7%);
            --muted: hsl(210 40% 15%);
            --muted-foreground: hsl(210 40% 60%);
            --border: hsl(210 40% 20%);
            --input: hsl(210 40% 20%);
            --ring: hsl(210 83% 63%);
        }

        .streak-cell {
            width: 12px;
            height: 12px;
            border-radius: 2px;
            margin: 1px;
        }
        
        .streak-0 { background-color: hsl(var(--muted)); }
        .streak-1 { background-color: hsl(125 65% 85%); }
        .streak-2 { background-color: hsl(125 65% 70%); }
        .streak-3 { background-color: hsl(125 65% 55%); }
        .streak-4 { background-color: hsl(125 65% 40%); }

        .timer-circle {
            transform: rotate(-90deg);
            transition: stroke-dasharray 0.3s ease;
        }
        
        .sidebar-collapsed {
            width: 64px;
        }
    </style>
</head>
<body class="bg-background text-foreground font-sans">
    <!-- @COMPONENT: App [main application wrapper] -->
    <div id="app" class="min-h-screen">
        <!-- @COMPONENT: Sidebar [navigation sidebar] -->
        <aside id="sidebar" class="fixed left-0 top-0 z-50 h-screen w-64 bg-card border-r border-border transition-all duration-300">
            <div class="flex items-center justify-between p-6 border-b border-border">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-chart-line text-primary-foreground text-sm"></i>
                    </div>
                    <span class="font-semibold text-lg sidebar-text">HabitTrack</span>
                </div>
                <button id="sidebarToggle" class="p-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-bars text-muted-foreground"></i>
                </button>
            </div>
            
            <nav class="p-4 space-y-2">
                <a href="#" class="flex items-center space-x-3 px-3 py-2 bg-primary/10 text-primary rounded-lg transition-colors">
                    <i class="fas fa-th-large w-5 text-center"></i>
                    <span class="sidebar-text">Dashboard</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-check-circle w-5 text-center"></i>
                    <span class="sidebar-text">My Habits</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-clock w-5 text-center"></i>
                    <span class="sidebar-text">Pomodoro</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-calendar-alt w-5 text-center"></i>
                    <span class="sidebar-text">Calendar</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-trophy w-5 text-center"></i>
                    <span class="sidebar-text">Leaderboard</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-chart-bar w-5 text-center"></i>
                    <span class="sidebar-text">Analytics</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-file-pdf w-5 text-center"></i>
                    <span class="sidebar-text">Reports</span>
                </a>
            </nav>
            
            <div class="absolute bottom-4 left-4 right-4">
                <div class="flex items-center justify-between p-3 bg-muted rounded-lg">
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                            <span class="text-primary-foreground text-sm font-semibold" data-bind="user.initials">JD</span>
                        </div>
                        <div class="sidebar-text">
                            <p class="text-sm font-medium" data-bind="user.name">John Doe</p>
                            <p class="text-xs text-muted-foreground">Level <span data-bind="user.level">12</span></p>
                        </div>
                    </div>
                    <button id="themeToggle" class="p-2 hover:bg-background rounded-lg transition-colors">
                        <i class="fas fa-moon text-muted-foreground text-sm"></i>
                    </button>
                </div>
            </div>
        </aside>
        <!-- @END_COMPONENT: Sidebar -->

        <!-- @COMPONENT: MainContent [main application content] -->
        <main id="mainContent" class="ml-64 min-h-screen transition-all duration-300">
            <!-- @COMPONENT: Header [top navigation and actions] -->
            <header class="bg-card border-b border-border px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-2xl font-bold">Dashboard</h1>
                        <p class="text-muted-foreground">Track your habits and boost productivity</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button class="bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                            <i class="fas fa-plus mr-2"></i>New Habit
                        </button>
                        <button class="p-2 hover:bg-muted rounded-lg transition-colors">
                            <i class="fas fa-bell text-muted-foreground"></i>
                        </button>
                    </div>
                </div>
            </header>
            <!-- @END_COMPONENT: Header -->

            <div class="p-6 space-y-6">
                <!-- @COMPONENT: StatsCards [overview statistics] -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-muted-foreground text-sm">Current Streak</p>
                                <p class="text-3xl font-bold text-primary" data-bind="stats.currentStreak">24</p>
                                <p class="text-xs text-muted-foreground">days</p>
                            </div>
                            <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center">
                                <i class="fas fa-fire text-primary"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-muted-foreground text-sm">Habits Completed</p>
                                <p class="text-3xl font-bold text-secondary" data-bind="stats.habitsCompleted">8</p>
                                <p class="text-xs text-muted-foreground">today</p>
                            </div>
                            <div class="w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center">
                                <i class="fas fa-check-circle text-secondary"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-muted-foreground text-sm">Total Points</p>
                                <p class="text-3xl font-bold text-accent" data-bind="stats.totalPoints">2,340</p>
                                <p class="text-xs text-muted-foreground">XP</p>
                            </div>
                            <div class="w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center">
                                <i class="fas fa-star text-accent"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-muted-foreground text-sm">Focus Time</p>
                                <p class="text-3xl font-bold" data-bind="stats.focusTime">3.5</p>
                                <p class="text-xs text-muted-foreground">hours today</p>
                            </div>
                            <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center">
                                <i class="fas fa-clock text-primary"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: StatsCards -->

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- @COMPONENT: HabitStreak [GitHub-style contribution graph] -->
                    <div class="lg:col-span-2 bg-card p-6 rounded-xl border border-border">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-xl font-semibold">Habit Streak Activity</h2>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-muted-foreground">Less</span>
                                <div class="flex space-x-1">
                                    <div class="streak-cell streak-0"></div>
                                    <div class="streak-cell streak-1"></div>
                                    <div class="streak-cell streak-2"></div>
                                    <div class="streak-cell streak-3"></div>
                                    <div class="streak-cell streak-4"></div>
                                </div>
                                <span class="text-sm text-muted-foreground">More</span>
                            </div>
                        </div>
                        
                        <!-- Contribution Graph Grid -->
                        <div class="grid grid-cols-53 gap-1 mb-4">
                            <!-- @MAP: Generate 371 cells (53 weeks Ã— 7 days) for the year -->
                            <!-- Sample cells showing different activity levels -->
                            <div class="streak-cell streak-0"></div>
                            <div class="streak-cell streak-1"></div>
                            <div class="streak-cell streak-2"></div>
                            <div class="streak-cell streak-3"></div>
                            <div class="streak-cell streak-4"></div>
                            <div class="streak-cell streak-2"></div>
                            <div class="streak-cell streak-1"></div>
                            <!-- Continue pattern for remaining cells... -->
                            <!-- @FUNCTIONALITY: Generate full year grid based on actual habit completion data -->
                        </div>
                        
                        <div class="flex justify-between text-sm text-muted-foreground">
                            <span>365 days ago</span>
                            <span>Today</span>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: HabitStreak -->

                    <!-- @COMPONENT: PomodoroTimer [built-in productivity timer] -->
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <h2 class="text-xl font-semibold mb-4">Pomodoro Timer</h2>
                        
                        <div class="flex flex-col items-center space-y-4">
                            <div class="relative w-32 h-32">
                                <svg class="w-full h-full" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="45" fill="none" stroke="hsl(var(--muted))" stroke-width="8"/>
                                    <circle cx="50" cy="50" r="45" fill="none" stroke="hsl(var(--primary))" stroke-width="8" 
                                            class="timer-circle" stroke-das