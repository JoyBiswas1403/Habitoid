<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habit & Time Tracker - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        darkMode: 'class',
        theme: {
            extend: {
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)",
                    sm: "calc(var(--radius) - 4px)",
                },
                colors: {
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    border: "var(--border)",
                    input: "var(--input)",
                    ring: "var(--ring)",
                }
            },
            fontFamily: {
                sans: ["Inter", "system-ui", "sans-serif"],
            }
        }
    };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --radius: 0.5rem;
            --background: hsl(210 40% 96%);
            --foreground: hsl(210 40% 8%);
            --card: hsl(0 0% 100%);
            --card-foreground: hsl(210 40% 8%);
            --primary: hsl(210 83% 53%);
            --primary-foreground: hsl(0 0% 100%);
            --secondary: hsl(174 72% 32%);
            --secondary-foreground: hsl(0 0% 100%);
            --accent: hsl(36 100% 50%);
            --accent-foreground: hsl(0 0% 100%);
            --muted: hsl(210 40% 94%);
            --muted-foreground: hsl(210 40% 35%);
            --border: hsl(210 40% 90%);
            --input: hsl(210 40% 90%);
            --ring: hsl(210 83% 53%);
        }
        
        .dark {
            --background: hsl(210 40% 7%);
            --foreground: hsl(210 40% 94%);
            --card: hsl(210 40% 11%);
            --card-foreground: hsl(210 40% 94%);
            --primary: hsl(210 83% 63%);
            --primary-foreground: hsl(210 40% 7%);
            --secondary: hsl(174 72% 42%);
            --secondary-foreground: hsl(210 40% 7%);
            --accent: hsl(36 100% 60%);
            --accent-foreground: hsl(210 40% 7%);
            --muted: hsl(210 40% 15%);
            --muted-foreground: hsl(210 40% 60%);
            --border: hsl(210 40% 20%);
            --input: hsl(210 40% 20%);
            --ring: hsl(210 83% 63%);
        }

        .streak-cell {
            width: 12px;
            height: 12px;
            border-radius: 2px;
            margin: 1px;
        }
        
        .streak-0 { background-color: hsl(var(--muted)); }
        .streak-1 { background-color: hsl(125 65% 85%); }
        .streak-2 { background-color: hsl(125 65% 70%); }
        .streak-3 { background-color: hsl(125 65% 55%); }
        .streak-4 { background-color: hsl(125 65% 40%); }

        .timer-circle {
            transform: rotate(-90deg);
            transition: stroke-dasharray 0.3s ease;
        }
        
        .sidebar-collapsed {
            width: 64px;
        }
    </style>
</head>
<body class="bg-background text-foreground font-sans">
    <!-- @COMPONENT: App [main application wrapper] -->
    <div id="app" class="min-h-screen">
        <!-- @COMPONENT: Sidebar [navigation sidebar] -->
        <aside id="sidebar" class="fixed left-0 top-0 z-50 h-screen w-64 bg-card border-r border-border transition-all duration-300">
            <div class="flex items-center justify-between p-6 border-b border-border">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-chart-line text-primary-foreground text-sm"></i>
                    </div>
                    <span class="font-semibold text-lg sidebar-text">HabitTrack</span>
                </div>
                <button id="sidebarToggle" class="p-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-bars text-muted-foreground"></i>
                </button>
            </div>
            
            <nav class="p-4 space-y-2">
                <a href="#" class="flex items-center space-x-3 px-3 py-2 bg-primary/10 text-primary rounded-lg transition-colors">
                    <i class="fas fa-th-large w-5 text-center"></i>
                    <span class="sidebar-text">Dashboard</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-check-circle w-5 text-center"></i>
                    <span class="sidebar-text">My Habits</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-clock w-5 text-center"></i>
                    <span class="sidebar-text">Pomodoro</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-calendar-alt w-5 text-center"></i>
                    <span class="sidebar-text">Calendar</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-trophy w-5 text-center"></i>
                    <span class="sidebar-text">Leaderboard</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-chart-bar w-5 text-center"></i>
                    <span class="sidebar-text">Analytics</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors">
                    <i class="fas fa-file-pdf w-5 text-center"></i>
                    <span class="sidebar-text">Reports</span>
                </a>
            </nav>
            
            <div class="absolute bottom-4 left-4 right-4">
                <div class="flex items-center justify-between p-3 bg-muted rounded-lg">
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                            <span class="text-primary-foreground text-sm font-semibold" data-bind="user.initials">JD</span>
                        </div>
                        <div class="sidebar-text">
                            <p class="text-sm font-medium" data-bind="user.name">John Doe</p>
                            <p class="text-xs text-muted-foreground">Level <span data-bind="user.level">12</span></p>
                        </div>
                    </div>
                    <button id="themeToggle" class="p-2 hover:bg-background rounded-lg transition-colors">
                        <i class="fas fa-moon text-muted-foreground text-sm"></i>
                    </button>
                </div>
            </div>
        </aside>
        <!-- @END_COMPONENT: Sidebar -->

        <!-- @COMPONENT: MainContent [main application content] -->
        <main id="mainContent" class="ml-64 min-h-screen transition-all duration-300">
            <!-- @COMPONENT: Header [top navigation and actions] -->
            <header class="bg-card border-b border-border px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-2xl font-bold">Dashboard</h1>
                        <p class="text-muted-foreground">Track your habits and boost productivity</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button class="bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                            <i class="fas fa-plus mr-2"></i>New Habit
                        </button>
                        <button class="p-2 hover:bg-muted rounded-lg transition-colors">
                            <i class="fas fa-bell text-muted-foreground"></i>
                        </button>
                    </div>
                </div>
            </header>
            <!-- @END_COMPONENT: Header -->

            <div class="p-6 space-y-6">
                <!-- @COMPONENT: StatsCards [overview statistics] -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-muted-foreground text-sm">Current Streak</p>
                                <p class="text-3xl font-bold text-primary" data-bind="stats.currentStreak">24</p>
                                <p class="text-xs text-muted-foreground">days</p>
                            </div>
                            <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center">
                                <i class="fas fa-fire text-primary"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-muted-foreground text-sm">Habits Completed</p>
                                <p class="text-3xl font-bold text-secondary" data-bind="stats.habitsCompleted">8</p>
                                <p class="text-xs text-muted-foreground">today</p>
                            </div>
                            <div class="w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center">
                                <i class="fas fa-check-circle text-secondary"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-muted-foreground text-sm">Total Points</p>
                                <p class="text-3xl font-bold text-accent" data-bind="stats.totalPoints">2,340</p>
                                <p class="text-xs text-muted-foreground">XP</p>
                            </div>
                            <div class="w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center">
                                <i class="fas fa-star text-accent"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-muted-foreground text-sm">Focus Time</p>
                                <p class="text-3xl font-bold" data-bind="stats.focusTime">3.5</p>
                                <p class="text-xs text-muted-foreground">hours today</p>
                            </div>
                            <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center">
                                <i class="fas fa-clock text-primary"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: StatsCards -->

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- @COMPONENT: HabitStreak [GitHub-style contribution graph] -->
                    <div class="lg:col-span-2 bg-card p-6 rounded-xl border border-border">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-xl font-semibold">Habit Streak Activity</h2>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-muted-foreground">Less</span>
                                <div class="flex space-x-1">
                                    <div class="streak-cell streak-0"></div>
                                    <div class="streak-cell streak-1"></div>
                                    <div class="streak-cell streak-2"></div>
                                    <div class="streak-cell streak-3"></div>
                                    <div class="streak-cell streak-4"></div>
                                </div>
                                <span class="text-sm text-muted-foreground">More</span>
                            </div>
                        </div>
                        
                        <!-- Contribution Graph Grid -->
                        <div class="grid grid-cols-53 gap-1 mb-4">
                            <!-- @MAP: Generate 371 cells (53 weeks Ã— 7 days) for the year -->
                            <!-- Sample cells showing different activity levels -->
                            <div class="streak-cell streak-0"></div>
                            <div class="streak-cell streak-1"></div>
                            <div class="streak-cell streak-2"></div>
                            <div class="streak-cell streak-3"></div>
                            <div class="streak-cell streak-4"></div>
                            <div class="streak-cell streak-2"></div>
                            <div class="streak-cell streak-1"></div>
                            <!-- Continue pattern for remaining cells... -->
                            <!-- @FUNCTIONALITY: Generate full year grid based on actual habit completion data -->
                        </div>
                        
                        <div class="flex justify-between text-sm text-muted-foreground">
                            <span>365 days ago</span>
                            <span>Today</span>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: HabitStreak -->

                    <!-- @COMPONENT: PomodoroTimer [built-in productivity timer] -->
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <h2 class="text-xl font-semibold mb-4">Pomodoro Timer</h2>
                        
                        <div class="flex flex-col items-center space-y-4">
                            <div class="relative w-32 h-32">
                                <svg class="w-full h-full" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="45" fill="none" stroke="hsl(var(--muted))" stroke-width="8"/>
                                    <circle cx="50" cy="50" r="45" fill="none" stroke="hsl(var(--primary))" stroke-width="8" 
                                            class="timer-circle" stroke-dasharray="283" stroke-dashoffset="70.75" stroke-linecap="round"/>
                                </svg>
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <div class="text-center">
                                        <p class="text-2xl font-bold" id="timerDisplay" data-bind="timer.display">25:00</p>
                                        <p class="text-xs text-muted-foreground">Focus</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex space-x-2">
                                <button id="startTimer" class="bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors" 
                                        data-event="click:handleTimerStart">
                                    <i class="fas fa-play mr-2"></i>Start
                                </button>
                                <button class="bg-muted text-muted-foreground px-4 py-2 rounded-lg hover:bg-muted/80 transition-colors">
                                    <i class="fas fa-pause mr-2"></i>Pause
                                </button>
                                <button class="bg-muted text-muted-foreground px-4 py-2 rounded-lg hover:bg-muted/80 transition-colors">
                                    <i class="fas fa-stop mr-2"></i>Reset
                                </button>
                            </div>
                            
                            <div class="text-center">
                                <p class="text-sm text-muted-foreground">Session <span data-bind="timer.session">2</span> of 4</p>
                                <p class="text-xs text-muted-foreground mt-1">Next: 5 min break</p>
                            </div>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: PomodoroTimer -->
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- @COMPONENT: HabitsProgress [today's habits checklist] -->
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-xl font-semibold">Today's Habits</h2>
                            <span class="text-sm text-muted-foreground" data-bind="habits.todayProgress">8 of 10 completed</span>
                        </div>
                        
                        <div class="space-y-3">
                            <!-- @MAP: habits.today.map(habit => ( -->
                            <div class="flex items-center space-x-3 p-3 bg-muted/30 rounded-lg">
                                <button class="w-5 h-5 bg-secondary rounded border-2 border-secondary flex items-center justify-center" data-event="click:toggleHabit">
                                    <i class="fas fa-check text-secondary-foreground text-xs"></i>
                                </button>
                                <div class="flex-1">
                                    <p class="font-medium line-through opacity-60" data-bind="habit.name">Morning Exercise</p>
                                    <p class="text-sm text-muted-foreground" data-bind="habit.description">30 minutes workout</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm font-medium text-secondary">+25 XP</p>
                                    <p class="text-xs text-muted-foreground">ðŸ”¥ 24 days</p>
                                </div>
                            </div>
                            
                            <div class="flex items-center space-x-3 p-3 hover:bg-muted/20 rounded-lg">
                                <button class="w-5 h-5 border-2 border-muted rounded" data-event="click:toggleHabit">
                                </button>
                                <div class="flex-1">
                                    <p class="font-medium" data-bind="habit.name">Read for 20 minutes</p>
                                    <p class="text-sm text-muted-foreground" data-bind="habit.description">Personal development</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm font-medium text-muted-foreground">+20 XP</p>
                                    <p class="text-xs text-muted-foreground">ðŸ”¥ 12 days</p>
                                </div>
                            </div>
                            
                            <div class="flex items-center space-x-3 p-3 hover:bg-muted/20 rounded-lg">
                                <button class="w-5 h-5 border-2 border-muted rounded" data-event="click:toggleHabit">
                                </button>
                                <div class="flex-1">
                                    <p class="font-medium" data-bind="habit.name">Meditation</p>
                                    <p class="text-sm text-muted-foreground" data-bind="habit.description">10 minutes mindfulness</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm font-medium text-muted-foreground">+15 XP</p>
                                    <p class="text-xs text-muted-foreground">ðŸ”¥ 8 days</p>
                                </div>
                            </div>
                            <!-- @END_MAP )) -->
                        </div>
                        
                        <button class="w-full mt-4 p-3 border-2 border-dashed border-muted rounded-lg text-muted-foreground hover:border-primary hover:text-primary transition-colors">
                            <i class="fas fa-plus mr-2"></i>Add new habit
                        </button>
                    </div>
                    <!-- @END_COMPONENT: HabitsProgress -->

                    <!-- @COMPONENT: WeeklyInsights [AI-powered insights] -->
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-xl font-semibold">AI Insights</h2>
                            <div class="flex items-center space-x-1 text-accent">
                                <i class="fas fa-robot text-sm"></i>
                                <span class="text-sm">Powered by AI</span>
                            </div>
                        </div>
                        
                        <div class="space-y-4">
                            <div class="p-4 bg-primary/5 border border-primary/20 rounded-lg">
                                <div class="flex items-start space-x-3">
                                    <div class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center">
                                        <i class="fas fa-lightbulb text-primary text-sm"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium text-sm">Productivity Tip</p>
                                        <p class="text-sm text-muted-foreground mt-1" data-bind="insights.tip">Your morning exercise streak is strong! Consider adding a 5-minute stretch routine before bed to improve your sleep quality.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="p-4 bg-secondary/5 border border-secondary/20 rounded-lg">
                                <div class="flex items-start space-x-3">
                                    <div class="w-8 h-8 bg-secondary/10 rounded-full flex items-center justify-center">
                                        <i class="fas fa-chart-line text-secondary text-sm"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium text-sm">Weekly Progress</p>
                                        <p class="text-sm text-muted-foreground mt-1" data-bind="insights.progress">You've improved by 15% this week! Your consistency with reading habits has increased significantly.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="p-4 bg-accent/5 border border-accent/20 rounded-lg">
                                <div class="flex items-start space-x-3">
                                    <div class="w-8 h-8 bg-accent/10 rounded-full flex items-center justify-center">
                                        <i class="fas fa-target text-accent text-sm"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium text-sm">Goal Recommendation</p>
                                        <p class="text-sm text-muted-foreground mt-1" data-bind="insights.goal">Try adding a hydration habit - drink 8 glasses of water daily. This complements your exercise routine perfectly.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <button class="w-full mt-4 bg-gradient-to-r from-primary to-secondary text-white py-3 rounded-lg hover:opacity-90 transition-opacity">
                            <i class="fas fa-magic mr-2"></i>Generate New Insights
                        </button>
                    </div>
                    <!-- @END_COMPONENT: WeeklyInsights -->
                </div>

                <!-- @COMPONENT: AnalyticsCharts [data visualizations] -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <h2 class="text-xl font-semibold mb-4">Weekly Habit Completion</h2>
                        <canvas id="weeklyChart" width="400" height="200" data-implementation="Chart.js line chart showing habit completion over the week"></canvas>
                    </div>
                    
                    <div class="bg-card p-6 rounded-xl border border-border">
                        <h2 class="text-xl font-semibold mb-4">Habit Categories</h2>
                        <canvas id="categoryChart" width="400" height="200" data-implementation="Chart.js doughnut chart showing habit distribution by category"></canvas>
                    </div>
                </div>
                <!-- @END_COMPONENT: AnalyticsCharts -->

                <!-- @COMPONENT: Leaderboard [gamification and social features] -->
                <div class="bg-card p-6 rounded-xl border border-border">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-semibold">Leaderboard</h2>
                        <div class="flex items-center space-x-2">
                            <span class="text-sm text-muted-foreground">This Week</span>
                            <select class="bg-muted border border-border rounded px-3 py-1 text-sm">
                                <option>This Week</option>
                                <option>This Month</option>
                                <option>All Time</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- Current user's ranking -->
                        <div class="md:col-span-1">
                            <div class="text-center p-6 bg-primary/5 border border-primary/20 rounded-xl">
                                <div class="w-16 h-16 bg-primary rounded-full mx-auto mb-3 flex items-center justify-center">
                                    <span class="text-primary-foreground font-bold text-lg" data-bind="user.initials">JD</span>
                                </div>
                                <h3 class="font-semibold" data-bind="user.name">John Doe</h3>
                                <p class="text-3xl font-bold text-primary mt-2" data-bind="user.rank">#4</p>
                                <p class="text-sm text-muted-foreground">Your Rank</p>
                                <div class="mt-4 space-y-2">
                                    <div class="flex justify-between text-sm">
                                        <span>Points</span>
                                        <span class="font-medium" data-bind="user.weeklyPoints">1,250</span>
                                    </div>
                                    <div class="flex justify-between text-sm">
                                        <span>Streak</span>
                                        <span class="font-medium" data-bind="user.currentStreak">24 days</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Top users list -->
                        <div class="md:col-span-2">
                            <div class="space-y-3">
                                <!-- @MAP: leaderboard.map((user, index) => ( -->
                                <div class="flex items-center space-x-4 p-4 bg-accent/5 border border-accent/20 rounded-lg">
                                    <div class="flex items-center justify-center w-8 h-8 bg-accent text-accent-foreground rounded-full text-sm font-bold">
                                        1
                                    </div>
                                    <div class="w-10 h-10 bg-gradient-to-br from-accent to-accent/70 rounded-full flex items-center justify-center">
                                        <span class="text-accent-foreground font-semibold">SA</span>
                                    </div>
                                    <div class="flex-1">
                                        <p class="font-medium" data-bind="user.name">Sarah Anderson</p>
                                        <p class="text-sm text-muted-foreground">Level <span data-bind="user.level">15</span> â€¢ ðŸ”¥ <span data-bind="user.streak">42</span> days</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="font-bold text-accent" data-bind="user.points">2,450</p>
                                        <p class="text-xs text-muted-foreground">points</p>
                                    </div>
                                </div>
                                
                                <div class="flex items-center space-x-4 p-4 bg-muted/20 rounded-lg">
                                    <div class="flex items-center justify-center w-8 h-8 bg-muted text-muted-foreground rounded-full text-sm font-bold">
                                        2
                                    </div>
                                    <div class="w-10 h-10 bg-secondary rounded-full flex items-center justify-center">
                                        <span class="text-secondary-foreground font-semibold">MJ</span>
                                    </div>
                                    <div class="flex-1">
                                        <p class="font-medium" data-bind="user.name">Mike Johnson</p>
                                        <p class="text-sm text-muted-foreground">Level <span data-bind="user.level">13</span> â€¢ ðŸ”¥ <span data-bind="user.streak">28</span> days</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="font-bold" data-bind="user.points">1,890</p>
                                        <p class="text-xs text-muted-foreground">points</p>
                                    </div>
                                </div>
                                
                                <div class="flex items-center space-x-4 p-4 bg-muted/20 rounded-lg">
                                    <div class="flex items-center justify-center w-8 h-8 bg-muted text-muted-foreground rounded-full text-sm font-bold">
                                        3
                                    </div>
                                    <div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center">
                                        <span class="text-primary-foreground font-semibold">EC</span>
                                    </div>
                                    <div class="flex-1">
                                        <p class="font-medium" data-bind="user.name">Emma Chen</p>
                                        <p class="text-sm text-muted-foreground">Level <span data-bind="user.level">12</span> â€¢ ðŸ”¥ <span data-bind="user.streak">31</span> days</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="font-bold" data-bind="user.points">1,650</p>
                                        <p class="text-xs text-muted-foreground">points</p>
                                    </div>
                                </div>
                                <!-- @END_MAP )) -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: Leaderboard -->
            </div>
        </main>
        <!-- @END_COMPONENT: MainContent -->
    </div>
    <!-- @END_COMPONENT: App -->

    <script>
    (function() {
        // Theme toggle functionality
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;
        const icon = themeToggle.querySelector('i');
        
        themeToggle.addEventListener('click', () => {
            html.classList.toggle('dark');
            const isDark = html.classList.contains('dark');
            icon.className = isDark ? 'fas fa-sun text-muted-foreground text-sm' : 'fas fa-moon text-muted-foreground text-sm';
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });
        
        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            html.classList.add('dark');
            icon.className = 'fas fa-sun text-muted-foreground text-sm';
        }
        
        // Sidebar toggle functionality
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebarToggle');
        const mainContent = document.getElementById('mainContent');
        const sidebarTexts = document.querySelectorAll('.sidebar-text');
        
        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('sidebar-collapsed');
            mainContent.classList.toggle('ml-16');
            mainContent.classList.toggle('ml-64');
            
            sidebarTexts.forEach(text => {
                text.style.display = sidebar.classList.contains('sidebar-collapsed') ? 'none' : 'block';
            });
        });
        
        // Chart.js initialization
        // Weekly Habit Completion Chart
        const weeklyCtx = document.getElementById('weeklyChart').getContext('2d');
        new Chart(weeklyCtx, {
            type: 'line',
            data: {
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                datasets: [{
                    label: 'Habits Completed',
                    data: [8, 9, 7, 10, 8, 6, 9],
                    borderColor: 'hsl(210, 83%, 53%)',
                    backgroundColor: 'hsl(210, 83%, 53%, 0.1)',
                    tension: 0.3,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'hsl(210, 40%, 90%)'
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        }
                    }
                }
            }
        });
        
        // Habit Categories Chart
        const categoryCtx = document.getElementById('categoryChart').getContext('2d');
        new Chart(categoryCtx, {
            type: 'doughnut',
            data: {
                labels: ['Health', 'Learning', 'Productivity', 'Mindfulness'],
                datasets: [{
                    data: [40, 25, 20, 15],
                    backgroundColor: [
                        'hsl(210, 83%, 53%)',
                        'hsl(174, 72%, 32%)',
                        'hsl(36, 100%, 50%)',
                        'hsl(125, 65%, 55%)'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            usePointStyle: true
                        }
                    }
                }
            }
        });

        // Timer functionality mock
        let timerRunning = false;
        let timeLeft = 25 * 60; // 25 minutes in seconds
        
        document.getElementById('startTimer').addEventListener('click', function() {
            // TODO: Implement proper timer functionality with intervals
            timerRunning = !timerRunning;
            this.innerHTML = timerRunning ? '<i class="fas fa-pause mr-2"></i>Pause' : '<i class="fas fa-play mr-2"></i>Start';
        });
        
        // Responsive behavior
        function checkScreenSize() {
            if (window.innerWidth < 1024) {
                sidebar.classList.add('sidebar-collapsed');
                mainContent.classList.add('ml-16');
                mainContent.classList.remove('ml-64');
                sidebarTexts.forEach(text => text.style.display = 'none');
            } else {
                if (!sidebar.classList.contains('sidebar-collapsed')) {
                    mainContent.classList.add('ml-64');
                    mainContent.classList.remove('ml-16');
                    sidebarTexts.forEach(text => text.style.display = 'block');
                }
            }
        }
        
        window.addEventListener('resize', checkScreenSize);
        checkScreenSize(); // Initial check
    })();
    </script>
</body>
</html>